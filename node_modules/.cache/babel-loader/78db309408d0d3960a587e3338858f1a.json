{"ast":null,"code":"import { GET_COUNTRIE, GET_COUNTRIE_DETAIL, ADD_ACTIVITY, REMOVE_ACTIVITY, GET_ALL_COUNTRIES, FILTER_BY_CONTINENT, FILTER_BY_ACTIVITY, ORDER_BY_NAME, GET_ALL_ACTIVITIES } from \"../actions\";\nconst initialState = {\n  activities: [],\n  //? Acá agrega las actividades\n  allActivities: [],\n  //? GET back\n  countries: [],\n  //? carga los paises buscados\n  copyCountries: [],\n  //? Apoyo para el filter\n  countryDetail: {} //? Carga toda la data en un obj\n\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === GET_ALL_COUNTRIES) {\n    return { ...state,\n      countries: action.payload,\n      copyCountries: action.payload\n    };\n  }\n\n  if (action.type === GET_COUNTRIE) {\n    return { ...state,\n      countries: action.payload\n    };\n  }\n\n  if (action.type === REMOVE_ACTIVITY) {\n    return { ...state,\n      activities: state.activities.filter(m => m.id !== action.payload)\n    };\n  }\n\n  if (action.type === GET_COUNTRIE_DETAIL) {\n    return { ...state,\n      countryDetail: action.payload\n    };\n  }\n\n  if (action.type === ADD_ACTIVITY) {\n    return { ...state,\n      activities: state.activities.concat(action.payload)\n    };\n  } //? <--------- Filters -------->\n\n\n  if (action.type === FILTER_BY_CONTINENT) {\n    const allCountries = state.copyCountries;\n    const filteredByContinent = action.payload === \"All\" ? allCountries : allCountries.filter(c => c.continent === action.payload);\n    return { ...state,\n      countries: filteredByContinent\n    };\n  }\n\n  if (action.type === FILTER_BY_ACTIVITY) {\n    const allCountries = state.copyCountries;\n    const filteredActivities = action.payload === \"All\" ? allCountries : allCountries.filter(country => {\n      let hasActivity = false;\n      country.activities.forEach(activity => {\n        if (activity.name === action.payload) {\n          hasActivity = true;\n        }\n      });\n      if (hasActivity) return country;\n    });\n    return { ...state,\n      countries: filteredActivities\n    };\n  }\n\n  if (action.type === GET_ALL_ACTIVITIES) {\n    return { ...state,\n      allActivities: action.payload\n    };\n  } //? <--------- Orders -------->\n\n\n  if (action.type === ORDER_BY_NAME) {\n    if (action.payload === \"all\") return state;\n\n    if (action.payload === \"asc\") {\n      state.countries.sort(function (a, b) {\n        if (a.name > b.name) return 1;\n        if (b.name > a.name) return -1;\n        return 0;\n      });\n    } else if (action.payload === \"des\") {\n      state.countries.sort(function (a, b) {\n        if (a.name > b.name) return -1;\n        if (b.name > a.name) return 1;\n        return 0;\n      });\n    } else if (action.payload === \"populationMayor\") {\n      state.countries.sort(function (a, b) {\n        if (a.population > b.population) return -1;\n        if (b.population > a.population) return 1;\n        return 0;\n      });\n    } else {\n      state.countries.sort(function (a, b) {\n        if (a.population > b.population) return 1;\n        if (b.population > a.population) return -1;\n        return 0;\n      });\n    }\n  }\n\n  return state;\n}\n\nexport default rootReducer; // const separador = (num) => {\n//   let resultado = \"\";\n//     let str = String(num);\n//     let aux = 0;\n//     for (let i = str.length - 1; i >= 0; i--) {\n//       if (aux % 3 === 0 && aux !== 0) {\n//         resultado = \",\" + resultado;\n//       }\n//       resultado = str[i] + resultado;\n//       aux++;\n//     }\n//   return resultado;\n// }","map":{"version":3,"names":["GET_COUNTRIE","GET_COUNTRIE_DETAIL","ADD_ACTIVITY","REMOVE_ACTIVITY","GET_ALL_COUNTRIES","FILTER_BY_CONTINENT","FILTER_BY_ACTIVITY","ORDER_BY_NAME","GET_ALL_ACTIVITIES","initialState","activities","allActivities","countries","copyCountries","countryDetail","rootReducer","state","action","type","payload","filter","m","id","concat","allCountries","filteredByContinent","c","continent","filteredActivities","country","hasActivity","forEach","activity","name","sort","a","b","population"],"sources":["D:/HENRY CLASES/PI-Countries-main/PI-Countries/client/src/reducers/index.js"],"sourcesContent":["import {\r\n  GET_COUNTRIE,\r\n  GET_COUNTRIE_DETAIL,\r\n  ADD_ACTIVITY,\r\n  REMOVE_ACTIVITY,\r\n  GET_ALL_COUNTRIES,\r\n  FILTER_BY_CONTINENT,\r\n  FILTER_BY_ACTIVITY,\r\n  ORDER_BY_NAME,\r\n  GET_ALL_ACTIVITIES,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  activities: [], //? Acá agrega las actividades\r\n  allActivities: [], //? GET back\r\n  countries: [], //? carga los paises buscados\r\n  copyCountries: [], //? Apoyo para el filter\r\n  countryDetail: {}, //? Carga toda la data en un obj\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  if (action.type === GET_ALL_COUNTRIES) {\r\n    return {\r\n      ...state,\r\n      countries: action.payload,\r\n      copyCountries: action.payload,\r\n    };\r\n  }\r\n  if (action.type === GET_COUNTRIE) {\r\n    return {\r\n      ...state,\r\n      countries: action.payload,\r\n    };\r\n  }\r\n  if (action.type === REMOVE_ACTIVITY) {\r\n    return {\r\n      ...state,\r\n      activities: state.activities.filter((m) => m.id !== action.payload),\r\n    };\r\n  }\r\n  if (action.type === GET_COUNTRIE_DETAIL) {\r\n    return {\r\n      ...state,\r\n      countryDetail: action.payload,\r\n    };\r\n  }\r\n  if (action.type === ADD_ACTIVITY) {\r\n    return {\r\n      ...state,\r\n      activities: state.activities.concat(action.payload),\r\n    };\r\n  }\r\n\r\n  //? <--------- Filters -------->\r\n\r\n  if (action.type === FILTER_BY_CONTINENT) {\r\n    const allCountries = state.copyCountries;\r\n    const filteredByContinent =\r\n      action.payload === \"All\"\r\n        ? allCountries\r\n        : allCountries.filter((c) => c.continent === action.payload);\r\n    return {\r\n      ...state,\r\n      countries: filteredByContinent,\r\n    };\r\n  }\r\n\r\n  if (action.type === FILTER_BY_ACTIVITY) {\r\n    const allCountries = state.copyCountries;\r\n    const filteredActivities =\r\n      action.payload === \"All\"\r\n        ? allCountries\r\n        : allCountries.filter((country) => {\r\n            let hasActivity = false;\r\n            country.activities.forEach((activity) => {\r\n              if (activity.name === action.payload) {\r\n                hasActivity = true;\r\n              }\r\n            });\r\n            if (hasActivity) return country;\r\n          });\r\n    return {\r\n      ...state,\r\n      countries: filteredActivities,\r\n    };\r\n  }\r\n\r\n  if (action.type === GET_ALL_ACTIVITIES) {\r\n    return {\r\n      ...state,\r\n      allActivities: action.payload,\r\n    };\r\n  }\r\n\r\n  //? <--------- Orders -------->\r\n\r\n  if (action.type === ORDER_BY_NAME) {\r\n    if (action.payload === \"all\") return state;\r\n    if (action.payload === \"asc\") {\r\n      state.countries.sort(function (a, b) {\r\n        if (a.name > b.name) return 1;\r\n        if (b.name > a.name) return -1;\r\n        return 0;\r\n      });\r\n    } else if (action.payload === \"des\") {\r\n      state.countries.sort(function (a, b) {\r\n        if (a.name > b.name) return -1;\r\n        if (b.name > a.name) return 1;\r\n        return 0;\r\n      });\r\n    } else if (action.payload === \"populationMayor\"){\r\n      state.countries.sort(function (a, b) {\r\n        if (a.population > b.population) return -1;\r\n        if (b.population > a.population) return 1;\r\n        return 0;\r\n      });\r\n    } else {\r\n      state.countries.sort(function (a, b) {\r\n        if (a.population > b.population) return 1;\r\n        if (b.population > a.population) return -1;\r\n        return 0;\r\n      });\r\n    }\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nexport default rootReducer;\r\n\r\n// const separador = (num) => {\r\n//   let resultado = \"\";\r\n//     let str = String(num);\r\n//     let aux = 0;\r\n//     for (let i = str.length - 1; i >= 0; i--) {\r\n//       if (aux % 3 === 0 && aux !== 0) {\r\n//         resultado = \",\" + resultado;\r\n//       }\r\n//       resultado = str[i] + resultado;\r\n//       aux++;\r\n//     }\r\n//   return resultado;\r\n// }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}